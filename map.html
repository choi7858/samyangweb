<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>삼양기공사 위치</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }
    #map {
      width: 100%;
      height: calc(100% - 60px);
    }
    #info-bar {
      padding: 10px;
      background: #f3f3f3;
      font-size: 14px;
      color: #222;
      border-top: 1px solid #ccc;
    }
  </style>
  <!-- ✅ 새 API 주소 및 파라미터 적용 -->
  <script src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=64c6myy0km"></script>
</head>
<body>
  <div id="map"></div>
  <div id="info-bar">
    <b>Referer:</b> <span id="ref">-</span><br>
    <b>Location:</b> <span id="loc">-</span>
  </div>

  <script>
    // 디버깅 정보 출력
    document.getElementById('ref').textContent = document.referrer || '없음';
    document.getElementById('loc').textContent = window.location.href;

    const map = new naver.maps.Map('map', {
      center: new naver.maps.LatLng(37.5671152, 126.9916127),
      zoom: 14,
    });

    new naver.maps.Marker({
      position: new naver.maps.LatLng(37.5671152, 126.9916127),
      map: map,
      title: '삼양기공사'
    });

    // 인증 실패 시 디버깅용 콜백
    window.navermap_authFailure = function () {
      alert('🛑 네이버 지도 인증 실패! ncpKeyId 또는 등록된 URL을 다시 확인하세요.');
    };
  </script>
</body>
</html>
